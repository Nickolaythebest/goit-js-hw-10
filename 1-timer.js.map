{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n  // Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate = null;\nlet timerid = null;\n\nconst refs = {\n  dateTimePicker: document.getElementById(\"datetime-picker\"),\n  startBtn: document.querySelector(\"[data-start]\"),\n  days: document.querySelector(\"[data-days]\"),\n  hours: document.querySelector(\"[data-hours]\"),\n  minutes: document.querySelector(\"[data-minutes]\"),\n  seconds: document.querySelector(\"[data-seconds]\"),\n};\nrefs.startBtn.disabled = true;\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n   userSelectedDate = selectedDates[0];\n   if (userSelectedDate < Date.now()) {\n    iziToast.error({\n      title: 'Помилка',\n      message: \"Please choose a date in the future\",\n      position: 'topRight',\n    })\n    refs.startBtn.disabled = true;\n   } else {\n    refs.startBtn.disabled = false;\n   }\n  },\n};\n\nflatpickr(refs.dateTimePicker, options);\n\nrefs.startBtn.addEventListener(\"click\", startTimer);\n\nfunction startTimer(){\n  refs.startBtn.disabled = true;\n  refs.dateTimePicker.disabled = true;\n  timerid = setInterval(() => {\n    const currentTime = Date.now();\n    const deltaTime = userSelectedDate - currentTime;\n    if (deltaTime <= 0) {\n      clearInterval(timerid);\n      updateTimerDisplay(0, 0, 0, 0);\n      refs.dateTimePicker.disabled = false;\n      return;\n    } else {\n      const { days, hours, minutes, seconds } = convertMs(deltaTime);\n      updateTimerDisplay(days, hours, minutes, seconds);\n    }\n  }, 1000);\n}\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction updateTimerDisplay(days, hours, minutes, seconds) {\n  refs.days.textContent = addLeadingZero(days);\n  refs.hours.textContent = addLeadingZero(hours);\n  refs.minutes.textContent = addLeadingZero(minutes);\n  refs.seconds.textContent = addLeadingZero(seconds);\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n"],"names":["userSelectedDate","timerid","refs","options","selectedDates","iziToast","flatpickr","startTimer","currentTime","deltaTime","updateTimerDisplay","days","hours","minutes","seconds","convertMs","ms","addLeadingZero","value"],"mappings":"+IASA,IAAIA,EAAmB,KACnBC,EAAU,KAEd,MAAMC,EAAO,CACX,eAAgB,SAAS,eAAe,iBAAiB,EACzD,SAAU,SAAS,cAAc,cAAc,EAC/C,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CAClD,EACAA,EAAK,SAAS,SAAW,GACzB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACtBJ,EAAmBI,EAAc,CAAC,EAC9BJ,EAAmB,KAAK,OAC3BK,EAAS,MAAM,CACb,MAAO,UACP,QAAS,qCACT,SAAU,UAChB,CAAK,EACDH,EAAK,SAAS,SAAW,IAEzBA,EAAK,SAAS,SAAW,EAE1B,CACH,EAEAI,EAAUJ,EAAK,eAAgBC,CAAO,EAEtCD,EAAK,SAAS,iBAAiB,QAASK,CAAU,EAElD,SAASA,GAAY,CACnBL,EAAK,SAAS,SAAW,GACzBA,EAAK,eAAe,SAAW,GAC/BD,EAAU,YAAY,IAAM,CAC1B,MAAMO,EAAc,KAAK,MACnBC,EAAYT,EAAmBQ,EACrC,GAAIC,GAAa,EAAG,CAClB,cAAcR,CAAO,EACrBS,EAAmB,EAAG,EAAG,EAAG,CAAC,EAC7BR,EAAK,eAAe,SAAW,GAC/B,MACN,KAAW,CACL,KAAM,CAAE,KAAAS,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUN,CAAS,EAC7DC,EAAmBC,EAAMC,EAAOC,EAASC,CAAO,CACjD,CACF,EAAE,GAAI,CACT,CACA,SAASC,EAAUC,EAAI,CAQrB,MAAML,EAAO,KAAK,MAAMK,EAAK,KAAG,EAE1BJ,EAAQ,KAAK,MAAOI,EAAK,MAAO,IAAI,EAEpCH,EAAU,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,EAEjDF,EAAU,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASJ,EAAmBC,EAAMC,EAAOC,EAASC,EAAS,CACzDZ,EAAK,KAAK,YAAce,EAAeN,CAAI,EAC3CT,EAAK,MAAM,YAAce,EAAeL,CAAK,EAC7CV,EAAK,QAAQ,YAAce,EAAeJ,CAAO,EACjDX,EAAK,QAAQ,YAAce,EAAeH,CAAO,CACnD,CAEA,SAASG,EAAeC,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC"}